Assignment 4, Part 2 - JUnit Test Flaw

Note: Since the nature of the variable p is not known and the exact behavior of p.computePrimes(5) is not clear to us, we have assumed that p is some kind of empty list object and that p.computePrimes(5) puts into the list the first five prime numbers (2, 3, 5, 7, 11). We also assume that p.getFirstPrime() checks the first number in the list.

A. In terms of the RIPR model, the fault is that the assertion is not comprehensive of the entire correct list which means the test does not REVEAL the flaw. The fault is in this line

assertTrue("computePrimes failed", p.getFirstPrime() == 2);

If the computePrimes method is possibly flawed, we wouldn't be able to tell from this test even if the test REACHES the fault, INFECTS the state, and PROPAGATES to the end of the method. Therefore, this test is flawed because it would not be able to REVEAL the flaw to us.

B. A possible rewrite of this test is

@Test
public void testComputePrimes()
{
   p.computePrimes(5); // Compute the first 5 prime numbers
   assertTrue("computePrimes failed", p.getFirstPrime() == 2);
   assertTrue("computePrimes failed", p.getSecondPrime() == 3);
   assertTrue("computePrimes failed", p.getThirdPrime() == 5);
   assertTrue("computePrimes failed", p.getFourthPrime() == 7);
   assertTrue("computePrimes failed", p.getFifthPrime() == 11);
}
